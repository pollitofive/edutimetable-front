import{d as Be,Y as ze,Z,r as f,$ as Ae,a0 as ae,c as w,N as oe,i as v,o as d,k as o,j as t,x as l,e,w as u,B as c,n as h,E as V,v as b,F as S,p as N,C as z,a as y,I as ce,a1 as je,s as F,a2 as M,a3 as Ge,a4 as Qe,a5 as Xe,a6 as Ye,a7 as Ze}from"./index-D2oXT1xy.js";import{_ as A}from"./FormLabel.vue_vue_type_script_setup_true_lang-DPKPgNkB.js";import{_ as H}from"./FormSelect.vue_vue_type_script_setup_true_lang-B1PIZPoQ.js";import{T as _,P}from"./index-CBE7LNRt.js";const q=j=>(Xe("data-v-a395edfb"),j=j(),Ye(),j),He={class:"flex flex-col gap-y-3 md:h-10 md:flex-row md:items-center"},Je={class:"text-base font-medium"},Ke={class:"flex flex-col gap-x-3 gap-y-2 sm:flex-row md:ml-auto"},We={class:"box box--stacked flex flex-col mt-5"},es={class:"p-5 border-b border-slate-200/60"},ss={class:"flex flex-col gap-4 sm:flex-row sm:items-center"},ts={class:"flex-1"},ls={class:"relative"},as={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none z-10"},os={value:""},rs=["value"],us={class:"flex-1"},ns={class:"relative"},ds={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},is={class:"flex-1"},cs={class:"relative"},vs={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none z-10"},ms={value:""},_s=["value"],fs={key:0,class:"flex items-center justify-center p-10"},ps={class:"flex flex-col items-center gap-3"},gs={class:"text-sm text-slate-500"},xs={key:1,class:"flex items-center justify-center p-10"},ks={class:"flex flex-col items-center gap-3"},hs={class:"text-sm text-slate-500"},bs={key:2,class:"overflow-x-auto"},Ls={class:"flex flex-col items-center gap-3"},ys={class:"px-2 py-1 text-xs font-semibold rounded-md bg-primary/10 text-primary inline-block"},Cs={class:"font-medium"},ws={class:"text-slate-500 font-mono text-sm"},Ts={class:"px-2 py-1 text-xs rounded-md bg-slate-100 text-slate-600 inline-block"},Es={key:0,class:"text-slate-600"},$s={key:1,class:"text-xs text-slate-400"},Vs={class:"flex items-center justify-center gap-2"},Is={key:3,class:"flex flex-col items-center gap-4 p-5 border-t sm:flex-row border-slate-200/60"},Ss={class:"flex items-center gap-2"},Ps={class:"text-sm text-slate-600"},Us=q(()=>o("option",{value:10},"10",-1)),Ds=q(()=>o("option",{value:25},"25",-1)),Fs=q(()=>o("option",{value:50},"50",-1)),Ms=q(()=>o("option",{value:100},"100",-1)),Os=[Us,Ds,Fs,Ms],Ns={class:"text-sm text-slate-600"},qs={class:"text-sm text-slate-600 sm:ml-auto"},Rs={class:"mr-auto text-base font-medium"},Bs={class:"col-span-12"},zs={value:""},As=["value"],js={value:"__custom__"},Gs={key:1,class:"mt-1 text-xs text-danger"},Qs={class:"col-span-12 sm:col-span-6"},Xs={key:0,class:"mt-1 text-xs text-danger"},Ys={class:"col-span-12 sm:col-span-6"},Zs={class:"flex items-center gap-2"},Hs={class:"flex items-center gap-2 text-xs text-slate-600 cursor-pointer hover:text-primary whitespace-nowrap"},Js={key:0,class:"mt-1 text-xs text-danger"},Ks={key:1,class:"mt-1 text-xs text-slate-500"},Ws={class:"col-span-12 sm:col-span-6"},et={key:0,class:"mt-1 text-xs text-danger"},st={class:"col-span-12 sm:col-span-6"},tt={value:null},lt=["value"],at={key:1},ot={class:"p-5 text-center"},rt={class:"mt-5 text-3xl"},ut={class:"mt-2 text-slate-500"},nt=q(()=>o("br",null,null,-1)),dt={class:"font-medium"},it=q(()=>o("br",null,null,-1)),ct={class:"px-5 pb-8 text-center"},vt={key:1},mt=Be({__name:"CourseLevelsView",setup(j){const{t:a}=ze(),ve=Z`
  query GetCourseLevels($first: Int!, $page: Int!, $track: String, $name: String, $sort_order: Int) {
    courseLevels(first: $first, page: $page, track: $track, name: $name, sort_order: $sort_order) {
      data {
        id
        track
        name
        slug
        sort_order
        next_level_id
        nextLevel {
          id
          name
        }
      }
      paginatorInfo {
        total
        count
        currentPage
        lastPage
        hasMorePages
        perPage
      }
    }
  }
`,me=Z`
  mutation CreateCourseLevel($input: CreateCourseLevelInput!) {
    createCourseLevel(input: $input) {
      id
      track
      name
      slug
      sort_order
      next_level_id
    }
  }
`,_e=Z`
  mutation UpdateCourseLevel($id: ID!, $input: UpdateCourseLevelInput!) {
    updateCourseLevel(id: $id, input: $input) {
      id
      track
      name
      slug
      sort_order
      next_level_id
    }
  }
`,fe=Z`
  mutation DeleteCourseLevel($id: ID!) {
    deleteCourseLevel(id: $id) {
      id
    }
  }
`,U=f([]),G=f(!1),I=f(null),i=f({track:"",name:"",slug:"",sort_order:null,next_level_id:null}),m=f({}),Q=f(!1),D=f(null),T=f({isEditable:!1}),L=f({isCustom:!1,customValue:""}),J=f(!1),re=f(""),ue=f("success"),p=f(1),C=f(10),O=f(0),K=f(1),g=f(""),x=f(""),k=f("");let W=null;const{result:pe,loading:ne,error:de,refetch:X}=Ae(ve,()=>({first:C.value,page:p.value,track:g.value?g.value:void 0,name:x.value?`%${x.value}%`:void 0,sort_order:k.value?parseInt(k.value):void 0}),{fetchPolicy:"cache-and-network"}),{mutate:ge,loading:xe}=ae(me),{mutate:ke,loading:he}=ae(_e),{mutate:be,loading:ee}=ae(fe),se=w(()=>xe.value||he.value),Le=w(()=>I.value?a("courseLevels.editLevel"):a("courseLevels.newLevel")),ye=w(()=>O.value===0?0:(p.value-1)*C.value+1),Ce=w(()=>{const r=p.value*C.value;return r>O.value?O.value:r}),E=w(()=>K.value),we=w(()=>I.value?U.value.filter(r=>{var n;return r.id!==((n=I.value)==null?void 0:n.id)}):U.value),te=w(()=>{const r=U.value.map(n=>n.track);return[...new Set(r)].sort()}),Te=w(()=>{const r=U.value.map(n=>n.sort_order);return[...new Set(r)].sort((n,s)=>n-s)}),Ee=w(()=>L.value.isCustom?"__custom__":i.value.track);oe(pe,r=>{var n,s;if((n=r==null?void 0:r.courseLevels)!=null&&n.data&&(U.value=r.courseLevels.data),(s=r==null?void 0:r.courseLevels)!=null&&s.paginatorInfo){const $=r.courseLevels.paginatorInfo;O.value=$.total,K.value=$.lastPage,p.value=$.currentPage}});const R=(r,n="success")=>{re.value=r,ue.value=n,J.value=!0},$e=()=>{J.value=!1},Ve=()=>(m.value={},i.value.track.trim()||(m.value.track=a("courseLevels.validation.trackRequired")),i.value.name.trim()||(m.value.name=a("courseLevels.validation.nameRequired")),i.value.slug.trim()||(m.value.slug=a("courseLevels.validation.slugRequired")),i.value.sort_order===null||i.value.sort_order===void 0?m.value.sort_order=a("courseLevels.validation.sortOrderRequired"):isNaN(Number(i.value.sort_order))&&(m.value.sort_order=a("courseLevels.validation.sortOrderNumeric")),Object.keys(m.value).length===0);oe(()=>i.value.name,r=>{T.value.isEditable||(i.value.slug=r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))});const Ie=()=>{I.value=null,i.value={track:"",name:"",slug:"",sort_order:null,next_level_id:null},m.value={},T.value.isEditable=!1,L.value={isCustom:!1,customValue:""},G.value=!0},Se=r=>{I.value=r,i.value={track:r.track,name:r.name,slug:r.slug,sort_order:r.sort_order,next_level_id:r.next_level_id},m.value={},T.value.isEditable=!1,te.value.includes(r.track)?L.value={isCustom:!1,customValue:""}:L.value={isCustom:!0,customValue:r.track},G.value=!0},le=()=>{G.value=!1,I.value=null,i.value={track:"",name:"",slug:"",sort_order:null,next_level_id:null},m.value={},T.value.isEditable=!1,L.value={isCustom:!1,customValue:""}},Pe=r=>{const s=r.target.value;s==="__custom__"?(L.value.isCustom=!0,i.value.track=L.value.customValue):(L.value.isCustom=!1,L.value.customValue="",i.value.track=s)},Ue=r=>{const n=r.target;L.value.customValue=n.value,i.value.track=n.value},De=async()=>{if(Ve())try{const r={track:i.value.track.trim(),name:i.value.name.trim(),slug:i.value.slug.trim(),sort_order:Number(i.value.sort_order),next_level_id:i.value.next_level_id||null};I.value?(await ke({id:I.value.id,input:r}),R(a("courseLevels.messages.updateSuccess"),"success")):(await ge({input:r}),R(a("courseLevels.messages.createSuccess"),"success")),le(),Y()}catch(r){const n=r.message||a("courseLevels.messages.generalError");R(n,"error"),console.error("Error saving course level:",r)}},Fe=r=>{D.value=r,Q.value=!0},Me=async()=>{if(D.value)try{await be({id:D.value.id}),R(a("courseLevels.messages.deleteSuccess"),"success"),Q.value=!1,D.value=null,Y()}catch(r){const n=r.message||a("courseLevels.messages.deleteError");R(n,"error"),console.error("Error deleting course level:",r)}},ie=()=>{Q.value=!1,D.value=null},B=r=>{r>=1&&r<=K.value&&(p.value=r,X({first:C.value,page:r,track:g.value.trim()?g.value.trim():void 0,name:x.value.trim()?`%${x.value.trim()}%`:void 0,sort_order:k.value?parseInt(k.value):void 0}))},Oe=r=>{C.value=r,p.value=1,X({first:r,page:1,track:g.value.trim()?g.value.trim():void 0,name:x.value.trim()?`%${x.value.trim()}%`:void 0,sort_order:k.value?parseInt(k.value):void 0})},Y=()=>{p.value=1,X({first:C.value,page:1,track:g.value.trim()?g.value.trim():void 0,name:x.value.trim()?`%${x.value.trim()}%`:void 0,sort_order:k.value?parseInt(k.value):void 0})},Ne=()=>{W&&clearTimeout(W),W=setTimeout(()=>{Y()},500)},qe=()=>{g.value="",x.value="",k.value="",Y()},Re=w(()=>g.value.trim()!==""||x.value.trim()!==""||k.value.trim()!=="");return oe([g,x,k],()=>{Ne()}),(r,n)=>(d(),v(S,null,[o("div",He,[o("div",Je,l(e(a)("courseLevels.title")),1),o("div",Ke,[t(e(V),{variant:"primary",onClick:Ie},{default:u(()=>[t(e(h),{icon:"Plus",class:"w-4 h-4 mr-2"}),c(" "+l(e(a)("courseLevels.newLevel")),1)]),_:1})])]),o("div",We,[o("div",es,[o("div",ss,[o("div",ts,[o("div",ls,[o("div",as,[t(e(h),{icon:"Tag",class:"w-4 h-4 text-slate-400"})]),t(e(H),{modelValue:g.value,"onUpdate:modelValue":n[0]||(n[0]=s=>g.value=s),class:"pl-10"},{default:u(()=>[o("option",os,l(e(a)("courseLevels.filters.searchByTrack")),1),(d(!0),v(S,null,N(te.value,s=>(d(),v("option",{key:s,value:s},l(s),9,rs))),128))]),_:1},8,["modelValue"])])]),o("div",us,[o("div",ns,[o("div",ds,[t(e(h),{icon:"Search",class:"w-4 h-4 text-slate-400"})]),t(e(z),{modelValue:x.value,"onUpdate:modelValue":n[1]||(n[1]=s=>x.value=s),type:"text",placeholder:e(a)("courseLevels.filters.searchByName"),class:"pl-10"},null,8,["modelValue","placeholder"])])]),o("div",is,[o("div",cs,[o("div",vs,[t(e(h),{icon:"ArrowUpDown",class:"w-4 h-4 text-slate-400"})]),t(e(H),{modelValue:k.value,"onUpdate:modelValue":n[2]||(n[2]=s=>k.value=s),class:"pl-10"},{default:u(()=>[o("option",ms,l(e(a)("courseLevels.filters.searchBySortOrder","Filter by Order")),1),(d(!0),v(S,null,N(Te.value,s=>(d(),v("option",{key:s,value:s.toString()},l(s),9,_s))),128))]),_:1},8,["modelValue"])])]),o("div",null,[Re.value?(d(),y(e(V),{key:0,variant:"outline-secondary",onClick:qe,class:"w-full sm:w-auto"},{default:u(()=>[t(e(h),{icon:"X",class:"w-4 h-4 mr-2"}),c(" "+l(e(a)("courseLevels.actions.clearFilters")),1)]),_:1})):b("",!0)])])]),e(ne)?(d(),v("div",fs,[o("div",ps,[t(e(h),{icon:"Loader",class:"w-8 h-8 animate-spin text-primary"}),o("div",gs,l(e(a)("courseLevels.messages.loading")),1)])])):e(de)?(d(),v("div",xs,[o("div",ks,[t(e(h),{icon:"AlertCircle",class:"w-8 h-8 text-danger"}),o("div",hs,l(e(a)("courseLevels.messages.error")),1),t(e(V),{variant:"outline-primary",onClick:n[3]||(n[3]=()=>e(X)({first:C.value.value,page:p.value.value,track:g.value.value.trim()?g.value.value.trim():void 0,name:x.value.value.trim()?`%${x.value.value.trim()}%`:void 0,sort_order:k.value.value?parseInt(k.value.value):void 0}))},{default:u(()=>[c(l(e(a)("courseLevels.actions.retry")),1)]),_:1})])])):(d(),v("div",bs,[t(e(_),{class:"border-b border-slate-200/60"},{default:u(()=>[t(e(_).Thead,null,{default:u(()=>[t(e(_).Tr,null,{default:u(()=>[t(e(_).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:u(()=>[c(l(e(a)("courseLevels.columns.id")),1)]),_:1}),t(e(_).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:u(()=>[c(l(e(a)("courseLevels.columns.track")),1)]),_:1}),t(e(_).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:u(()=>[c(l(e(a)("courseLevels.columns.name")),1)]),_:1}),t(e(_).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:u(()=>[c(l(e(a)("courseLevels.columns.slug")),1)]),_:1}),t(e(_).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:u(()=>[c(l(e(a)("courseLevels.columns.sortOrder")),1)]),_:1}),t(e(_).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:u(()=>[c(l(e(a)("courseLevels.columns.nextLevel")),1)]),_:1}),t(e(_).Td,{class:"py-4 font-medium text-center bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:u(()=>[c(l(e(a)("courseLevels.columns.actions")),1)]),_:1})]),_:1})]),_:1}),t(e(_).Tbody,null,{default:u(()=>[U.value.length===0?(d(),y(e(_).Tr,{key:0},{default:u(()=>[t(e(_).Td,{colspan:"7",class:"py-10 text-center text-slate-500"},{default:u(()=>[o("div",Ls,[t(e(h),{icon:"Inbox",class:"w-10 h-10 text-slate-300"}),o("div",null,l(e(a)("courseLevels.messages.noLevels")),1)])]),_:1})]),_:1})):b("",!0),(d(!0),v(S,null,N(U.value,s=>(d(),y(e(_).Tr,{key:s.id,class:"[&_td]:last:border-b-0"},{default:u(()=>[t(e(_).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:u(()=>[c(l(s.id),1)]),_:2},1024),t(e(_).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:u(()=>[o("div",ys,l(s.track),1)]),_:2},1024),t(e(_).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:u(()=>[o("div",Cs,l(s.name),1)]),_:2},1024),t(e(_).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:u(()=>[o("div",ws,l(s.slug),1)]),_:2},1024),t(e(_).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:u(()=>[o("div",Ts,l(s.sort_order),1)]),_:2},1024),t(e(_).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:u(()=>[s.nextLevel?(d(),v("div",Es,l(s.nextLevel.name),1)):(d(),v("div",$s,"-"))]),_:2},1024),t(e(_).Td,{class:"relative py-4 border-dashed dark:bg-darkmode-600"},{default:u(()=>[o("div",Vs,[t(e(V),{variant:"outline-secondary",size:"sm",onClick:$=>Se(s),class:"w-20"},{default:u(()=>[t(e(h),{icon:"Edit",class:"w-3.5 h-3.5 mr-1"}),c(" "+l(e(a)("courseLevels.actions.edit")),1)]),_:2},1032,["onClick"]),t(e(V),{variant:"outline-danger",size:"sm",onClick:$=>Fe(s),class:"w-20"},{default:u(()=>[t(e(h),{icon:"Trash2",class:"w-3.5 h-3.5 mr-1"}),c(" "+l(e(a)("courseLevels.actions.delete")),1)]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])),!e(ne)&&!e(de)&&O.value>0?(d(),v("div",Is,[o("div",Ss,[o("span",Ps,l(e(a)("courseLevels.pagination.show")),1),ce(o("select",{"onUpdate:modelValue":n[4]||(n[4]=s=>C.value=s),onChange:n[5]||(n[5]=s=>Oe(C.value)),class:"px-3 py-2 text-sm border rounded-md border-slate-300 dark:border-darkmode-400 dark:bg-darkmode-800 focus:ring-2 focus:ring-primary focus:border-primary"},Os,544),[[je,C.value,void 0,{number:!0}]]),o("span",Ns,l(e(a)("courseLevels.pagination.entries")),1)]),o("div",qs,l(e(a)("courseLevels.pagination.showingInfo",{start:ye.value,end:Ce.value,total:O.value})),1),t(e(P),{class:"flex-1 sm:flex-initial"},{default:u(()=>[t(e(P).Link,{onClick:n[6]||(n[6]=s=>B(p.value-1)),class:F({"cursor-not-allowed opacity-50":p.value===1})},{default:u(()=>[t(e(h),{icon:"ChevronLeft",class:"w-4 h-4"})]),_:1},8,["class"]),E.value>0?(d(),y(e(P).Link,{key:0,active:p.value===1,onClick:n[7]||(n[7]=s=>B(1))},{default:u(()=>[c(" 1 ")]),_:1},8,["active"])):b("",!0),p.value>3?(d(),y(e(P).Link,{key:1,disabled:""},{default:u(()=>[c(" ... ")]),_:1})):b("",!0),(d(!0),v(S,null,N(E.value,s=>(d(),v(S,{key:s},[s>1&&s<E.value&&Math.abs(s-p.value)<=1?(d(),y(e(P).Link,{key:0,active:p.value===s,onClick:$=>B(s)},{default:u(()=>[c(l(s),1)]),_:2},1032,["active","onClick"])):b("",!0)],64))),128)),p.value<E.value-2?(d(),y(e(P).Link,{key:2,disabled:""},{default:u(()=>[c(" ... ")]),_:1})):b("",!0),E.value>1?(d(),y(e(P).Link,{key:3,active:p.value===E.value,onClick:n[8]||(n[8]=s=>B(E.value))},{default:u(()=>[c(l(E.value),1)]),_:1},8,["active"])):b("",!0),t(e(P).Link,{onClick:n[9]||(n[9]=s=>B(p.value+1)),class:F({"cursor-not-allowed opacity-50":p.value===E.value})},{default:u(()=>[t(e(h),{icon:"ChevronRight",class:"w-4 h-4"})]),_:1},8,["class"])]),_:1})])):b("",!0)]),t(e(M),{open:G.value,onClose:le,size:"lg"},{default:u(()=>[t(e(M).Panel,null,{default:u(()=>[t(e(M).Title,null,{default:u(()=>[o("h2",Rs,l(Le.value),1)]),_:1}),t(e(M).Description,{class:"grid grid-cols-12 gap-4 gap-y-3"},{default:u(()=>[o("div",Bs,[t(e(A),{htmlFor:"level-track"},{default:u(()=>[c(l(e(a)("courseLevels.form.trackLabel"))+" "+l(e(a)("courseLevels.form.required")),1)]),_:1}),t(e(H),{id:"level-track",value:Ee.value,onChange:Pe,class:F({"border-danger":m.value.track})},{default:u(()=>[o("option",zs,l(e(a)("courseLevels.form.trackPlaceholder")),1),(d(!0),v(S,null,N(te.value,s=>(d(),v("option",{key:s,value:s},l(s),9,As))),128)),o("option",js,l(e(a)("courseLevels.form.customTrack","Otro...")),1)]),_:1},8,["value","class"]),L.value.isCustom?(d(),y(e(z),{key:0,value:L.value.customValue,onInput:Ue,type:"text",placeholder:e(a)("courseLevels.form.customTrackPlaceholder","Escriba el nuevo track"),class:F([{"border-danger":m.value.track},"mt-2"])},null,8,["value","placeholder","class"])):b("",!0),m.value.track?(d(),v("div",Gs,l(m.value.track),1)):b("",!0)]),o("div",Qs,[t(e(A),{htmlFor:"level-name"},{default:u(()=>[c(l(e(a)("courseLevels.form.nameLabel"))+" "+l(e(a)("courseLevels.form.required")),1)]),_:1}),t(e(z),{id:"level-name",modelValue:i.value.name,"onUpdate:modelValue":n[10]||(n[10]=s=>i.value.name=s),type:"text",placeholder:e(a)("courseLevels.form.namePlaceholder"),class:F({"border-danger":m.value.name})},null,8,["modelValue","placeholder","class"]),m.value.name?(d(),v("div",Xs,l(m.value.name),1)):b("",!0)]),o("div",Ys,[t(e(A),{htmlFor:"level-slug"},{default:u(()=>[c(l(e(a)("courseLevels.form.slugLabel"))+" "+l(e(a)("courseLevels.form.required")),1)]),_:1}),o("div",Zs,[t(e(z),{id:"level-slug",modelValue:i.value.slug,"onUpdate:modelValue":n[11]||(n[11]=s=>i.value.slug=s),type:"text",placeholder:e(a)("courseLevels.form.slugPlaceholder"),readonly:!T.value.isEditable,class:F([{"border-danger":m.value.slug,"bg-slate-50 cursor-not-allowed":!T.value.isEditable},"flex-1"])},null,8,["modelValue","placeholder","readonly","class"]),o("label",Hs,[ce(o("input",{type:"checkbox","onUpdate:modelValue":n[12]||(n[12]=s=>T.value.isEditable=s),class:"w-4 h-4 rounded border-slate-300 text-primary focus:ring-2 focus:ring-primary focus:ring-offset-0"},null,512),[[Ge,T.value.isEditable]]),o("span",null,l(e(a)("courseLevels.form.editSlug")),1)])]),m.value.slug?(d(),v("div",Js,l(m.value.slug),1)):b("",!0),T.value.isEditable?b("",!0):(d(),v("div",Ks,l(e(a)("courseLevels.form.slugAutoGenerated")),1))]),o("div",Ws,[t(e(A),{htmlFor:"level-sort-order"},{default:u(()=>[c(l(e(a)("courseLevels.form.sortOrderLabel"))+" "+l(e(a)("courseLevels.form.required")),1)]),_:1}),t(e(z),{id:"level-sort-order",modelValue:i.value.sort_order,"onUpdate:modelValue":n[13]||(n[13]=s=>i.value.sort_order=s),modelModifiers:{number:!0},type:"number",placeholder:e(a)("courseLevels.form.sortOrderPlaceholder"),class:F({"border-danger":m.value.sort_order})},null,8,["modelValue","placeholder","class"]),m.value.sort_order?(d(),v("div",et,l(m.value.sort_order),1)):b("",!0)]),o("div",st,[t(e(A),{htmlFor:"level-next"},{default:u(()=>[c(l(e(a)("courseLevels.form.nextLevelLabel")),1)]),_:1}),t(e(H),{id:"level-next",modelValue:i.value.next_level_id,"onUpdate:modelValue":n[14]||(n[14]=s=>i.value.next_level_id=s)},{default:u(()=>[o("option",tt,l(e(a)("courseLevels.form.noNextLevel")),1),(d(!0),v(S,null,N(we.value,s=>(d(),v("option",{key:s.id,value:s.id},l(s.name)+" ("+l(s.track)+") ",9,lt))),128))]),_:1},8,["modelValue"])])]),_:1}),t(e(M).Footer,{class:"text-right"},{default:u(()=>[t(e(V),{type:"button",variant:"outline-secondary",onClick:le,disabled:se.value,class:"w-20 mr-2"},{default:u(()=>[c(l(e(a)("courseLevels.actions.cancel")),1)]),_:1},8,["disabled"]),t(e(V),{type:"button",variant:"primary",onClick:De,disabled:se.value,class:"w-20"},{default:u(()=>[se.value?(d(),y(e(h),{key:0,icon:"Loader",class:"w-4 h-4 animate-spin"})):(d(),v("span",at,l(e(a)("courseLevels.actions.save")),1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),t(e(M),{open:Q.value,onClose:ie},{default:u(()=>[t(e(M).Panel,null,{default:u(()=>{var s,$;return[o("div",ot,[t(e(h),{icon:"AlertTriangle",class:"w-16 h-16 mx-auto mt-3 text-danger"}),o("div",rt,l(e(a)("courseLevels.delete.confirmTitle")),1),o("div",ut,[c(l(e(a)("courseLevels.delete.confirmMessage"))+" ",1),nt,o("span",dt,l((s=D.value)==null?void 0:s.name)+" ("+l(($=D.value)==null?void 0:$.track)+")",1),it,c(" "+l(e(a)("courseLevels.delete.cannotUndo")),1)])]),o("div",ct,[t(e(V),{type:"button",variant:"outline-secondary",onClick:ie,disabled:e(ee),class:"w-24 mr-2"},{default:u(()=>[c(l(e(a)("courseLevels.actions.cancel")),1)]),_:1},8,["disabled"]),t(e(V),{type:"button",variant:"danger",onClick:Me,disabled:e(ee),class:"w-24"},{default:u(()=>[e(ee)?(d(),y(e(h),{key:0,icon:"Loader",class:"w-4 h-4 animate-spin"})):(d(),v("span",vt,l(e(a)("courseLevels.actions.delete")),1))]),_:1},8,["disabled"])])]}),_:1})]),_:1},8,["open"]),t(Qe,{show:J.value,message:re.value,type:ue.value,onClose:$e},null,8,["show","message","type"])],64))}}),xt=Ze(mt,[["__scopeId","data-v-a395edfb"]]);export{xt as default};
