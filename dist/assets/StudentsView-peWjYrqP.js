import{d as ze,Y as Ge,Z as j,r as _,$ as ve,a0 as le,c as S,N as oe,i as c,o as u,k as o,j as s,x as l,e,w as n,B as i,n as h,E as L,v as b,a as C,C as z,F as E,p as N,s as P,I as Oe,a1 as He,a2 as D,a4 as Qe,a5 as Xe,a6 as Ye,a7 as Ze}from"./index-D2oXT1xy.js";import{_ as G}from"./FormLabel.vue_vue_type_script_setup_true_lang-DPKPgNkB.js";import{_ as Z}from"./FormSelect.vue_vue_type_script_setup_true_lang-B1PIZPoQ.js";import{T as f,P as I}from"./index-CBE7LNRt.js";const B=O=>(Xe("data-v-6027e4c5"),O=O(),Ye(),O),Je={class:"flex flex-col gap-y-3 md:h-10 md:flex-row md:items-center"},Ke={class:"text-base font-medium"},We={class:"flex flex-col gap-x-3 gap-y-2 sm:flex-row md:ml-auto"},et={class:"box box--stacked flex flex-col mt-5"},tt={class:"p-5 border-b border-slate-200/60"},st={class:"flex flex-col lg:flex-row gap-3 items-end"},at={class:"w-full lg:flex-1"},lt={class:"relative"},ot={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},dt={class:"w-full lg:w-[140px]"},nt={class:"relative"},rt={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},ut={class:"w-full lg:flex-1"},it={class:"relative"},ct={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none z-10"},vt={value:""},mt=["value"],_t={class:"w-full lg:flex-1"},ft={class:"relative"},pt={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none z-10"},ht={value:""},kt=["value"],gt={key:0,class:"flex items-center justify-center p-10"},xt={class:"flex flex-col items-center gap-3"},yt={class:"text-sm text-slate-500"},bt={key:1,class:"flex items-center justify-center p-10"},Tt={class:"flex flex-col items-center gap-3"},wt={class:"text-sm text-slate-500"},Ct={key:2,class:"overflow-x-auto"},$t={class:"flex flex-col items-center gap-3"},St={class:"font-medium"},Lt={class:"text-slate-500"},Et={class:"px-2 py-1 text-xs font-mono rounded-md bg-slate-100 text-slate-600 inline-block"},Pt={key:0,class:"flex flex-col gap-1"},It={class:"font-medium text-slate-700"},Dt={class:"px-2 py-0.5 text-xs font-semibold rounded-md bg-primary/10 text-primary inline-block w-fit"},Ft={key:1,class:"text-xs text-slate-400"},Ut={class:"flex items-center justify-center gap-2"},Vt={key:3,class:"flex flex-col items-center gap-4 p-5 border-t sm:flex-row border-slate-200/60"},qt={class:"flex items-center gap-2"},Mt={class:"text-sm text-slate-600"},Nt=B(()=>o("option",{value:10},"10",-1)),Bt=B(()=>o("option",{value:25},"25",-1)),Rt=B(()=>o("option",{value:50},"50",-1)),At=B(()=>o("option",{value:100},"100",-1)),jt=[Nt,Bt,Rt,At],zt={class:"text-sm text-slate-600"},Gt={class:"text-sm text-slate-600 sm:ml-auto"},Ot={class:"mr-auto text-base font-medium"},Ht={class:"col-span-12"},Qt={key:0,class:"mt-1 text-xs text-danger"},Xt={class:"col-span-12"},Yt={key:0,class:"mt-1 text-xs text-danger"},Zt={class:"col-span-12"},Jt={key:0,class:"mt-1 text-xs text-danger"},Kt={class:"col-span-12 sm:col-span-6"},Wt={value:""},es=["value"],ts={key:0,class:"mt-1 text-xs text-danger"},ss={class:"col-span-12 sm:col-span-6"},as={value:""},ls=["value"],os={key:0,class:"mt-1 text-xs text-danger"},ds={key:1},ns={class:"p-5 text-center"},rs={class:"mt-5 text-3xl"},us={class:"mt-2 text-slate-500"},is=B(()=>o("br",null,null,-1)),cs={class:"font-medium"},vs=B(()=>o("br",null,null,-1)),ms={class:"px-5 pb-8 text-center"},_s={key:1},fs=ze({__name:"StudentsView",setup(O){const{t:a}=Ge(),me=j`
  query GetCourseLevels {
    courseLevels(first: 100, page: 1) {
      data {
        id
        track
        name
        slug
        sort_order
      }
    }
  }
`,_e=j`
  query GetStudents($first: Int!, $page: Int!, $search: String, $code: String, $course_level_id: ID, $track: String) {
    students(first: $first, page: $page, search: $search, code: $code, course_level_id: $course_level_id, track: $track) {
      data {
        id
        name
        email
        code
        course_level_id
        courseLevel {
          id
          track
          name
          slug
          sort_order
        }
      }
      paginatorInfo {
        total
        count
        currentPage
        lastPage
        hasMorePages
        perPage
      }
    }
  }
`,fe=j`
  mutation CreateStudent($input: CreateStudentInput!) {
    createStudent(input: $input) {
      id
      name
      email
      code
      course_level_id
      courseLevel {
        id
        name
        track
      }
    }
  }
`,pe=j`
  mutation UpdateStudent($id: ID!, $input: UpdateStudentInput!) {
    updateStudent(id: $id, input: $input) {
      id
      name
      email
      code
      course_level_id
      courseLevel {
        id
        name
        track
      }
    }
  }
`,he=j`
  mutation DeleteStudent($id: ID!) {
    deleteStudent(id: $id) {
      id
    }
  }
`,J=_([]),F=_([]),H=_(!1),U=_(null),m=_({name:"",email:"",code:"",course_level_id:""}),y=_({selectedTrack:""}),v=_({}),Q=_(!1),V=_(null),K=_(!1),de=_(""),ne=_("success"),p=_(1),w=_(10),q=_(0),W=_(1),k=_(""),g=_(""),x=_(""),T=_("");let ee=null;const{result:ke}=ve(me,{},{fetchPolicy:"cache-and-network"}),{result:ge,loading:re,error:ue,refetch:X}=ve(_e,()=>({first:w.value,page:p.value,search:k.value?`%${k.value}%`:void 0,code:g.value?`%${g.value}%`:void 0,course_level_id:T.value||void 0,track:x.value||void 0}),{fetchPolicy:"cache-and-network"}),{mutate:xe,loading:ye}=le(fe),{mutate:be,loading:Te}=le(pe),{mutate:we,loading:te}=le(he),se=S(()=>ye.value||Te.value),Ce=S(()=>U.value?a("students.editStudent"):a("students.newStudent")),ie=S(()=>!F.value||F.value.length===0?[]:[...new Set(F.value.map(r=>r.track))].sort()),$e=S(()=>y.value.selectedTrack?F.value.filter(d=>d.track===y.value.selectedTrack).sort((d,r)=>d.sort_order-r.sort_order):[]),Se=S(()=>x.value?F.value.filter(d=>d.track===x.value).sort((d,r)=>d.sort_order-r.sort_order):[]),Le=S(()=>q.value===0?0:(p.value-1)*w.value+1),Ee=S(()=>{const d=p.value*w.value;return d>q.value?q.value:d}),$=S(()=>W.value);oe(ke,d=>{var r;(r=d==null?void 0:d.courseLevels)!=null&&r.data&&(F.value=d.courseLevels.data)}),oe(ge,d=>{var r,t;if((r=d==null?void 0:d.students)!=null&&r.data&&(J.value=d.students.data),(t=d==null?void 0:d.students)!=null&&t.paginatorInfo){const M=d.students.paginatorInfo;q.value=M.total,W.value=M.lastPage,p.value=M.currentPage}});const R=(d,r="success")=>{de.value=d,ne.value=r,K.value=!0},Pe=()=>{K.value=!1},Ie=()=>(v.value={},m.value.name.trim()||(v.value.name=a("students.validation.nameRequired")),m.value.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.value.email)||(v.value.email=a("students.validation.emailInvalid")):v.value.email=a("students.validation.emailRequired"),m.value.code.trim()||(v.value.code=a("students.validation.codeRequired")),m.value.course_level_id||(v.value.course_level_id=a("students.validation.courseLevelRequired")),Object.keys(v.value).length===0),De=()=>{U.value=null,m.value={name:"",email:"",code:"",course_level_id:""},y.value={selectedTrack:""},v.value={},H.value=!0},Fe=d=>{U.value=d,m.value={name:d.name,email:d.email,code:d.code,course_level_id:d.course_level_id||""},d.courseLevel?y.value={selectedTrack:d.courseLevel.track}:y.value={selectedTrack:""},v.value={},H.value=!0},ae=()=>{H.value=!1,U.value=null,m.value={name:"",email:"",code:"",course_level_id:""},y.value={selectedTrack:""},v.value={}},Ue=()=>{m.value.course_level_id=""},Ve=async()=>{if(Ie())try{const d={name:m.value.name,email:m.value.email,code:m.value.code,course_level_id:m.value.course_level_id};U.value?(await be({id:U.value.id,input:d}),R(a("students.messages.updateSuccess"),"success")):(await xe({input:d}),R(a("students.messages.createSuccess"),"success")),ae(),Y()}catch(d){const r=d.message||a("students.messages.generalError");R(r,"error"),console.error("Error saving student:",d)}},qe=d=>{V.value=d,Q.value=!0},Me=async()=>{if(V.value)try{await we({id:V.value.id}),R(a("students.messages.deleteSuccess"),"success"),Q.value=!1,V.value=null,Y()}catch(d){const r=d.message||a("students.messages.deleteError");R(r,"error"),console.error("Error deleting student:",d)}},ce=()=>{Q.value=!1,V.value=null},A=d=>{d>=1&&d<=W.value&&(p.value=d,X({first:w.value,page:d,search:k.value.trim()?`%${k.value.trim()}%`:void 0,code:g.value.trim()?`%${g.value.trim()}%`:void 0,course_level_id:T.value||void 0,track:x.value||void 0}))},Ne=d=>{w.value=d,p.value=1,X({first:d,page:1,search:k.value.trim()?`%${k.value.trim()}%`:void 0,code:g.value.trim()?`%${g.value.trim()}%`:void 0,course_level_id:T.value||void 0,track:x.value||void 0})},Y=()=>{p.value=1,X({first:w.value,page:1,search:k.value.trim()?`%${k.value.trim()}%`:void 0,code:g.value.trim()?`%${g.value.trim()}%`:void 0,course_level_id:T.value||void 0,track:x.value||void 0})},Be=()=>{ee&&clearTimeout(ee),ee=setTimeout(()=>{Y()},500)},Re=()=>{k.value="",g.value="",x.value="",T.value="",Y()},Ae=S(()=>k.value.trim()!==""||g.value.trim()!==""||x.value.trim()!==""||T.value.trim()!==""),je=()=>{T.value=""};return oe([k,g,x,T],()=>{Be()}),(d,r)=>(u(),c(E,null,[o("div",Je,[o("div",Ke,l(e(a)("students.title")),1),o("div",We,[s(e(L),{variant:"primary",onClick:De},{default:n(()=>[s(e(h),{icon:"Plus",class:"w-4 h-4 mr-2"}),i(" "+l(e(a)("students.newStudent")),1)]),_:1})])]),o("div",et,[o("div",tt,[o("div",st,[o("div",at,[o("div",lt,[o("div",ot,[s(e(h),{icon:"Search",class:"w-4 h-4 text-slate-400"})]),s(e(z),{modelValue:k.value,"onUpdate:modelValue":r[0]||(r[0]=t=>k.value=t),type:"text",placeholder:e(a)("students.filters.searchByNameOrEmail"),class:"pl-10"},null,8,["modelValue","placeholder"])])]),o("div",dt,[o("div",nt,[o("div",rt,[s(e(h),{icon:"Hash",class:"w-4 h-4 text-slate-400"})]),s(e(z),{modelValue:g.value,"onUpdate:modelValue":r[1]||(r[1]=t=>g.value=t),type:"text",placeholder:e(a)("students.filters.searchByCode"),class:"pl-10"},null,8,["modelValue","placeholder"])])]),o("div",ut,[o("div",it,[o("div",ct,[s(e(h),{icon:"Layers",class:"w-4 h-4 text-slate-400"})]),s(e(Z),{modelValue:x.value,"onUpdate:modelValue":r[2]||(r[2]=t=>x.value=t),onChange:je,class:"pl-10"},{default:n(()=>[o("option",vt,l(e(a)("students.filters.searchByTrack")),1),(u(!0),c(E,null,N(ie.value,t=>(u(),c("option",{key:t,value:t},l(t),9,mt))),128))]),_:1},8,["modelValue"])])]),o("div",_t,[o("div",ft,[o("div",pt,[s(e(h),{icon:"Award",class:"w-4 h-4 text-slate-400"})]),s(e(Z),{modelValue:T.value,"onUpdate:modelValue":r[3]||(r[3]=t=>T.value=t),class:P(["pl-10",{"opacity-50 cursor-not-allowed":!x.value}]),disabled:!x.value},{default:n(()=>[o("option",ht,l(x.value?e(a)("students.filters.searchByLevel"):e(a)("students.filters.selectTrackFirst")),1),(u(!0),c(E,null,N(Se.value,t=>(u(),c("option",{key:t.id,value:t.id},l(t.name),9,kt))),128))]),_:1},8,["modelValue","disabled","class"])])]),Ae.value?(u(),C(e(L),{key:0,variant:"outline-secondary",onClick:Re,class:"w-full lg:w-auto shrink-0"},{default:n(()=>[s(e(h),{icon:"X",class:"w-4 h-4 mr-2"}),i(" "+l(e(a)("students.actions.clearFilters")),1)]),_:1})):b("",!0)])]),e(re)?(u(),c("div",gt,[o("div",xt,[s(e(h),{icon:"Loader",class:"w-8 h-8 animate-spin text-primary"}),o("div",yt,l(e(a)("students.messages.loading")),1)])])):e(ue)?(u(),c("div",bt,[o("div",Tt,[s(e(h),{icon:"AlertCircle",class:"w-8 h-8 text-danger"}),o("div",wt,l(e(a)("students.messages.error")),1),s(e(L),{variant:"outline-primary",onClick:r[4]||(r[4]=()=>e(X)({first:w.value.value,page:p.value.value,search:k.value.value.trim()?`%${k.value.value.trim()}%`:void 0,code:g.value.value.trim()?`%${g.value.value.trim()}%`:void 0,course_level_id:T.value.value||void 0,track:x.value.value||void 0}))},{default:n(()=>[i(l(e(a)("students.actions.retry")),1)]),_:1})])])):(u(),c("div",Ct,[s(e(f),{class:"border-b border-slate-200/60"},{default:n(()=>[s(e(f).Thead,null,{default:n(()=>[s(e(f).Tr,null,{default:n(()=>[s(e(f).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:n(()=>[i(l(e(a)("students.columns.id")),1)]),_:1}),s(e(f).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:n(()=>[i(l(e(a)("students.columns.name")),1)]),_:1}),s(e(f).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:n(()=>[i(l(e(a)("students.columns.email")),1)]),_:1}),s(e(f).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:n(()=>[i(l(e(a)("students.columns.code")),1)]),_:1}),s(e(f).Td,{class:"py-4 font-medium bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:n(()=>[i(l(e(a)("students.columns.level")),1)]),_:1}),s(e(f).Td,{class:"py-4 font-medium text-center bg-slate-50 dark:bg-darkmode-800 text-slate-500 border-slate-200/60 whitespace-nowrap"},{default:n(()=>[i(l(e(a)("students.columns.actions")),1)]),_:1})]),_:1})]),_:1}),s(e(f).Tbody,null,{default:n(()=>[J.value.length===0?(u(),C(e(f).Tr,{key:0},{default:n(()=>[s(e(f).Td,{colspan:"6",class:"py-10 text-center text-slate-500"},{default:n(()=>[o("div",$t,[s(e(h),{icon:"Inbox",class:"w-10 h-10 text-slate-300"}),o("div",null,l(e(a)("students.messages.noStudents")),1)])]),_:1})]),_:1})):b("",!0),(u(!0),c(E,null,N(J.value,t=>(u(),C(e(f).Tr,{key:t.id,class:"[&_td]:last:border-b-0"},{default:n(()=>[s(e(f).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:n(()=>[i(l(t.id),1)]),_:2},1024),s(e(f).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:n(()=>[o("div",St,l(t.name),1)]),_:2},1024),s(e(f).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:n(()=>[o("div",Lt,l(t.email),1)]),_:2},1024),s(e(f).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:n(()=>[o("div",Et,l(t.code),1)]),_:2},1024),s(e(f).Td,{class:"py-4 border-dashed dark:bg-darkmode-600"},{default:n(()=>[t.courseLevel?(u(),c("div",Pt,[o("div",It,l(t.courseLevel.name),1),o("div",Dt,l(t.courseLevel.track),1)])):(u(),c("div",Ft,"-"))]),_:2},1024),s(e(f).Td,{class:"relative py-4 border-dashed dark:bg-darkmode-600"},{default:n(()=>[o("div",Ut,[s(e(L),{variant:"outline-secondary",size:"sm",onClick:M=>Fe(t),class:"w-20"},{default:n(()=>[s(e(h),{icon:"Edit",class:"w-3.5 h-3.5 mr-1"}),i(" "+l(e(a)("students.actions.edit")),1)]),_:2},1032,["onClick"]),s(e(L),{variant:"outline-danger",size:"sm",onClick:M=>qe(t),class:"w-20"},{default:n(()=>[s(e(h),{icon:"Trash2",class:"w-3.5 h-3.5 mr-1"}),i(" "+l(e(a)("students.actions.delete")),1)]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])),!e(re)&&!e(ue)&&q.value>0?(u(),c("div",Vt,[o("div",qt,[o("span",Mt,l(e(a)("students.pagination.show")),1),Oe(o("select",{"onUpdate:modelValue":r[5]||(r[5]=t=>w.value=t),onChange:r[6]||(r[6]=t=>Ne(w.value)),class:"px-3 py-2 text-sm border rounded-md border-slate-300 dark:border-darkmode-400 dark:bg-darkmode-800 focus:ring-2 focus:ring-primary focus:border-primary"},jt,544),[[He,w.value,void 0,{number:!0}]]),o("span",zt,l(e(a)("students.pagination.entries")),1)]),o("div",Gt,l(e(a)("students.pagination.showingInfo",{start:Le.value,end:Ee.value,total:q.value})),1),s(e(I),{class:"flex-1 sm:flex-initial"},{default:n(()=>[s(e(I).Link,{onClick:r[7]||(r[7]=t=>A(p.value-1)),class:P({"cursor-not-allowed opacity-50":p.value===1})},{default:n(()=>[s(e(h),{icon:"ChevronLeft",class:"w-4 h-4"})]),_:1},8,["class"]),$.value>0?(u(),C(e(I).Link,{key:0,active:p.value===1,onClick:r[8]||(r[8]=t=>A(1))},{default:n(()=>[i(" 1 ")]),_:1},8,["active"])):b("",!0),p.value>3?(u(),C(e(I).Link,{key:1,disabled:""},{default:n(()=>[i(" ... ")]),_:1})):b("",!0),(u(!0),c(E,null,N($.value,t=>(u(),c(E,{key:t},[t>1&&t<$.value&&Math.abs(t-p.value)<=1?(u(),C(e(I).Link,{key:0,active:p.value===t,onClick:M=>A(t)},{default:n(()=>[i(l(t),1)]),_:2},1032,["active","onClick"])):b("",!0)],64))),128)),p.value<$.value-2?(u(),C(e(I).Link,{key:2,disabled:""},{default:n(()=>[i(" ... ")]),_:1})):b("",!0),$.value>1?(u(),C(e(I).Link,{key:3,active:p.value===$.value,onClick:r[9]||(r[9]=t=>A($.value))},{default:n(()=>[i(l($.value),1)]),_:1},8,["active"])):b("",!0),s(e(I).Link,{onClick:r[10]||(r[10]=t=>A(p.value+1)),class:P({"cursor-not-allowed opacity-50":p.value===$.value})},{default:n(()=>[s(e(h),{icon:"ChevronRight",class:"w-4 h-4"})]),_:1},8,["class"])]),_:1})])):b("",!0)]),s(e(D),{open:H.value,onClose:ae},{default:n(()=>[s(e(D).Panel,null,{default:n(()=>[s(e(D).Title,null,{default:n(()=>[o("h2",Ot,l(Ce.value),1)]),_:1}),s(e(D).Description,{class:"grid grid-cols-12 gap-4 gap-y-3"},{default:n(()=>[o("div",Ht,[s(e(G),{htmlFor:"student-name"},{default:n(()=>[i(l(e(a)("students.form.nameLabel"))+" "+l(e(a)("students.form.required")),1)]),_:1}),s(e(z),{id:"student-name",modelValue:m.value.name,"onUpdate:modelValue":r[11]||(r[11]=t=>m.value.name=t),type:"text",placeholder:e(a)("students.form.namePlaceholder"),class:P({"border-danger":v.value.name})},null,8,["modelValue","placeholder","class"]),v.value.name?(u(),c("div",Qt,l(v.value.name),1)):b("",!0)]),o("div",Xt,[s(e(G),{htmlFor:"student-email"},{default:n(()=>[i(l(e(a)("students.form.emailLabel"))+" "+l(e(a)("students.form.required")),1)]),_:1}),s(e(z),{id:"student-email",modelValue:m.value.email,"onUpdate:modelValue":r[12]||(r[12]=t=>m.value.email=t),type:"email",placeholder:e(a)("students.form.emailPlaceholder"),class:P({"border-danger":v.value.email})},null,8,["modelValue","placeholder","class"]),v.value.email?(u(),c("div",Yt,l(v.value.email),1)):b("",!0)]),o("div",Zt,[s(e(G),{htmlFor:"student-code"},{default:n(()=>[i(l(e(a)("students.form.codeLabel"))+" "+l(e(a)("students.form.required")),1)]),_:1}),s(e(z),{id:"student-code",modelValue:m.value.code,"onUpdate:modelValue":r[13]||(r[13]=t=>m.value.code=t),type:"text",placeholder:e(a)("students.form.codePlaceholder"),class:P({"border-danger":v.value.code})},null,8,["modelValue","placeholder","class"]),v.value.code?(u(),c("div",Jt,l(v.value.code),1)):b("",!0)]),o("div",Kt,[s(e(G),{htmlFor:"student-track"},{default:n(()=>[i(l(e(a)("students.form.trackLabel"))+" "+l(e(a)("students.form.required")),1)]),_:1}),s(e(Z),{id:"student-track",modelValue:y.value.selectedTrack,"onUpdate:modelValue":r[14]||(r[14]=t=>y.value.selectedTrack=t),onChange:Ue,class:P({"border-danger":v.value.course_level_id&&!y.value.selectedTrack})},{default:n(()=>[o("option",Wt,l(e(a)("students.form.trackPlaceholder")),1),(u(!0),c(E,null,N(ie.value,t=>(u(),c("option",{key:t,value:t},l(t),9,es))),128))]),_:1},8,["modelValue","class"]),v.value.course_level_id&&!y.value.selectedTrack?(u(),c("div",ts,l(e(a)("students.validation.trackRequired")),1)):b("",!0)]),o("div",ss,[s(e(G),{htmlFor:"student-level"},{default:n(()=>[i(l(e(a)("students.form.levelLabel"))+" "+l(e(a)("students.form.required")),1)]),_:1}),s(e(Z),{id:"student-level",modelValue:m.value.course_level_id,"onUpdate:modelValue":r[15]||(r[15]=t=>m.value.course_level_id=t),disabled:!y.value.selectedTrack,class:P({"border-danger":v.value.course_level_id,"opacity-50 cursor-not-allowed":!y.value.selectedTrack})},{default:n(()=>[o("option",as,l(y.value.selectedTrack?e(a)("students.form.levelPlaceholder"):e(a)("students.form.selectTrackFirst")),1),(u(!0),c(E,null,N($e.value,t=>(u(),c("option",{key:t.id,value:t.id},l(t.name),9,ls))),128))]),_:1},8,["modelValue","disabled","class"]),v.value.course_level_id?(u(),c("div",os,l(v.value.course_level_id),1)):b("",!0)])]),_:1}),s(e(D).Footer,{class:"text-right"},{default:n(()=>[s(e(L),{type:"button",variant:"outline-secondary",onClick:ae,disabled:se.value,class:"w-20 mr-2"},{default:n(()=>[i(l(e(a)("students.actions.cancel")),1)]),_:1},8,["disabled"]),s(e(L),{type:"button",variant:"primary",onClick:Ve,disabled:se.value,class:"w-20"},{default:n(()=>[se.value?(u(),C(e(h),{key:0,icon:"Loader",class:"w-4 h-4 animate-spin"})):(u(),c("span",ds,l(e(a)("students.actions.save")),1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(e(D),{open:Q.value,onClose:ce},{default:n(()=>[s(e(D).Panel,null,{default:n(()=>{var t;return[o("div",ns,[s(e(h),{icon:"AlertTriangle",class:"w-16 h-16 mx-auto mt-3 text-danger"}),o("div",rs,l(e(a)("students.delete.confirmTitle")),1),o("div",us,[i(l(e(a)("students.delete.confirmMessage"))+" ",1),is,o("span",cs,l((t=V.value)==null?void 0:t.name),1),vs,i(" "+l(e(a)("students.delete.cannotUndo")),1)])]),o("div",ms,[s(e(L),{type:"button",variant:"outline-secondary",onClick:ce,disabled:e(te),class:"w-24 mr-2"},{default:n(()=>[i(l(e(a)("students.actions.cancel")),1)]),_:1},8,["disabled"]),s(e(L),{type:"button",variant:"danger",onClick:Me,disabled:e(te),class:"w-24"},{default:n(()=>[e(te)?(u(),C(e(h),{key:0,icon:"Loader",class:"w-4 h-4 animate-spin"})):(u(),c("span",_s,l(e(a)("students.actions.delete")),1))]),_:1},8,["disabled"])])]}),_:1})]),_:1},8,["open"]),s(Qe,{show:K.value,message:de.value,type:ne.value,onClose:Pe},null,8,["show","message","type"])],64))}}),xs=Ze(fs,[["__scopeId","data-v-6027e4c5"]]);export{xs as default};
